<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manamorphosis</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='icon.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="title-container">
        <h1>Manamorphosis</h1>
        <div class="social-links">
            <a href="https://boggs.tech/posts/manamorphosis" target="_blank" title="Announcement Post">
                Tech Report
            </a>
            <a href="https://github.com/JakeBoggs/Manamorphosis" target="_blank" title="GitHub">
                <img src="https://github.githubassets.com/favicons/favicon.png" alt="GitHub" class="social-icon">
            </a>
            <a href="https://x.com/JakeABoggs" target="_blank" title="Twitter/X">
                <img src="https://abs.twimg.com/favicons/twitter.3.ico" alt="Twitter/X" class="social-icon">
            </a>
        </div>
        <div class="controls-container">
            <div class="format-selector">
                <label for="format-select">Format:</label>
                <select id="format-select">
                    <option value="standard">Standard</option>
                    <option value="pioneer">Pioneer</option>
                    <option value="modern" selected>Modern</option>
                    <option value="legacy">Legacy</option>
                    <option value="vintage">Vintage</option>
                    <option value="pauper">Pauper</option>
                </select>
            </div>
        </div>
        <button id="export-deck-button" title="Export Decklist">üì§ Export</button>
    </div>

    <div class="search-container">
        <div class="input-section search-input-group">
            <input type="text" id="search-input"
                   placeholder="Search by exact name or description (e.g., 'Lighning Bolt', 'Draw two cards')..."
                   title="When searching by name, use the exact card name with correct capitalization. Description search is more flexible.">
            <button id="search-button">Search</button>
        </div>
    </div>

    <hr>

    <div class="deck-container">
        <div class="display-section">
            <h2>
                Main Deck
                <div>
                    <button id="complete-button" title="Complete Deck">‚úÖ</button>
                    <button id="clear-deck-button" class="clear-button" title="Clear Deck">‚ùå</button>
                </div>
            </h2>
            <p id="deck-status-message"></p>
            <div id="deck-display" class="card-list-display">
                <p>Add cards using the search above.</p>
            </div>
        </div>
        <div class="display-section sideboard-section">
            <h2>
                Sideboard
                <div>
                    <button id="generate-sideboard-button" title="Generate Sideboard" disabled>‚úÖ</button>
                    <button id="clear-sideboard-button" class="clear-button" title="Clear Sideboard">‚ùå</button>
                </div>
            </h2>
            <p id="sideboard-status-message"></p>
            <div id="sideboard-display" class="card-list-display">
                <p>Complete the main deck first.</p>
            </div>
        </div>
    </div>

    <!-- Search Results Modal (Initially Hidden) -->
    <div id="search-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Search Results</h2>
            <div id="search-results-content">
                <!-- Search results will be populated here by JS -->
            </div>
        </div>
    </div>

    <!-- Export Deck Modal (Initially Hidden) -->
    <div id="export-modal" class="modal">
        <div class="modal-content">
            <span class="export-close-button">&times;</span>
            <h2>Export Decklist</h2>
            <p>Copy the text below:</p>
            <textarea id="export-textarea" readonly rows="15"></textarea>
            <button id="copy-export-button" title="Copy to Clipboard">üìã Copy</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html> 